<div ng-include="'/apps/wp/templates/wapo/includes/navigation.html'"></div>

<div class="panel panel-default">
  <div class="panel-heading">
    &nbsp;
  </div>
  <div class="panel-body">
    <h2>Payment Method</h2>
    
    <div class="row">
      <div class="col-xs-4">
        <div class="service-block service-block-default" ng-class="{'service-block-aqua': payment_method == 'wepay'}" ng-click="setPaymentMethod('wepay')">
          <i class="icon-custom icon-lg icon-color-dark icon-line icon-credit-card"></i>
          <h2 class="heading-md">WePay</h2>
          <p>Redirect to WePay site to for payment</p>
        </div>
      </div>
    </div>
    
    <h2>Account (s)</h2>

    <div class="row">
      <div class="col-xs-3 text-center">
        Local
      </div>
      <div class="col-xs-3 text-center" ng-if="wapo.profile.new.name">
        New Wapo Profile
      </div>
      <div class="col-xs-3 text-center" ng-if="wapo.profile.profile">
        Wapo Profile
      </div>
      <div class="col-xs-3 text-center" ng-if="wapo.delivery == 'facebook-page' || wapo.delivery == 'any-facebook-friends'">
        Facebook
      </div>
      <div class="col-xs-3 text-center" ng-if="wapo.delivery == 'select-twitter-followers' || wapo.delivery == 'any-twitter-followers'">
        Twitter
      </div>
    </div>

    <div class="row">
      <div class="col-xs-3 text-center">
        <div ng-if="user">
          <div class="panel panel-default">
            <div class="panel-body">
              <div class="profile-blog blog-border">
                <img class="rounded-x" ng-src="{{user.account_image.full_url}}" style="max-width: 50px;" alt="">
                <div class="name-location">
                  <strong>{{user.first_name}} {{user.last_name}}</strong><br />
                  <span><i class="fa fa-envelope"></i> {{user.email}}</span>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div ng-if="!user">
          Guest
        </div>
      </div>

      <div class="col-xs-3 text-center" ng-if="wapo.profile.new.name">
        <div class="panel panel-default">
          <div class="panel-body">
            <div class="profile-blog blog-border">
              <img class="rounded-x" ng-src="/{{wapo.profile.new.image}}" style="max-width: 50px;" alt="">
              <div class="name-location">
                <strong>{{wapo.profile.new.name}}</strong><br />
                <span><i class="fa fa-envelope"></i> {{wapo.profile.new.email}}</span>
              </div>
            </div>
          </div>
        </div>

      </div>
      <div class="col-xs-3 text-center" ng-if="wapo.profile.profile">
        <div class="panel panel-default">
          <div class="panel-body">
            <div class="profile-blog blog-border">
              <img class="rounded-x" ng-src="/media/wapo/profile/{{wapo.profile.profile.image}}" style="max-width: 50px;" alt="">
              <div class="name-location">
                <strong>{{wapo.profile.profile.name}}</strong><br />
                <span><i class="fa fa-envelope"></i> {{user.email}}</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="col-xs-3 text-center" ng-if="wapo.delivery == 'facebook-page' || wapo.delivery == 'any-facebook-friends'">
        <div class="panel panel-default">
          <div class="panel-body" ng-include="'/apps/wp/templates/wapo/includes/facebook-profile.html'"></div>
        </div>
      </div>
      
      <div class="col-xs-3 text-center" ng-if="wapo.delivery == 'select-twitter-followers' || wapo.delivery == 'any-twitter-followers'">
        <div class="panel panel-default">
          <div class="panel-body" ng-include="'/apps/wp/templates/wapo/includes/twitter-profile.html'"></div>
        </div>
      </div>
    </div>

    <hr />

    <h2>Delivery</h2>
    <div ng-if="wapo.delivery == 'free-for-all'">
      <strong>Free for all</strong>
    </div>
    <div ng-if="wapo.delivery == 'email'">
      <strong>Email(s):</strong>
      <span ng-repeat="email in wapo.email.email_list track by $index">
        <span class="label label-light rounded">{{email}}</span>
        <span ng-if="!$last">,</span>
      </span>
    </div>
    <div ng-if="wapo.delivery == 'email-list'">
      <strong>Email(s):</strong>
      <span ng-repeat="email in wapo.email_list.email_list track by $index" ng-if="$index < 3">
        <span class="label label-light rounded">{{email}}</span>
        <span ng-if="!$last && $index < 2">,</span>
      </span>
      <span ng-if="wapo.email_list.email_list.length > 3">...</span>
    </div>
    <div ng-if="wapo.delivery == 'mailchimp'">
      <strong>Email(s):</strong>
      <span ng-repeat="email in wapo.mailchimp.email_list track by $index" ng-if="$index < 3">
        <span class="label label-light rounded">{{email}}</span>
        <span ng-if="!$last && $index < 2">,</span>
      </span>
      <span ng-if="wapo.mailchimp.email_list.length > 3">...</span>
    </div>
    
    <div ng-if="wapo.delivery == 'text'">
      <strong>Numbers(s):</strong>
      <span ng-repeat="number in wapo.text.number_list track by $index" ng-if="$index < 3">
        <span class="label label-light rounded">{{number}}</span>
        <span ng-if="!$last && $index < 2">,</span>
      </span>
      <span ng-if="wapo.text.number_list.length > 3">...</span>
    </div>

    <div ng-if="wapo.delivery == 'any-facebook-friends'">
      <strong>Facebook Friends</strong>
    </div>

    <div ng-if="wapo.delivery == 'facebook-page'">
      <strong>Facebook Page:</strong>
      <span class="label label-light rounded">{{wapo.facebook.page_name}}</span>
    </div>

    <div ng-if="wapo.delivery == 'any-twitter-followers'">
      <strong>Any Followers</strong>
    </div>

    <div ng-if="wapo.delivery == 'select-twitter-followers'">
      <strong>Twitter Followers(s):</strong>
      <span ng-repeat="follower in wapo.twitter.follower_list track by $index" ng-if="$index < 3">
        <span class="label label-light rounded">{{follower}}</span>
        <span ng-if="!$last && $index < 2">,</span>
      </span>
      <span ng-if="wapo.twitter.follower_list.length > 3">...</span>
    </div>
    <hr />
    
    <h2>Delivery Message</h2>
    <blockquote>{{wapo.delivery_message}}</blockquote>

    <h2>Reward</h2>
    <table class="table table-striped">
      <thead>
        <tr>
          <th>Product</th>
          <th>Price</th>
          <th>Qty</th>
          <th>Total</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td class="product-in-table" ng-if="wapo.marketplace == 'tangocards'">
            <img class="img-responsive" ng-src="{{wapo.tangocards.brand_image_url}}" alt="">
            <div class="product-it-in">
              <h3>{{wapo.tangocards.name}}</h3>
              <span>{{wapo.tangocards.description}}</span>
            </div>    
          </td>
          <td>{{wapo.tangocards.unit_price / 100}}</td>
          <td>
            {{wapo.quantity}}
          </td>
          <td class="shop-red">$ {{ (wapo.tangocards.unit_price / 100) * wapo.quantity}}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>