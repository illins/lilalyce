{% extends "apps/wp/templates/base.twig" %}

{% block extrajs %}
  <script src="/themes/theme-blink/static/angular/angular.js"></script>
  <script src="/themes/theme-blink/static/angular/angular-route.js"></script>
  <script src="/themes/theme-blink/static/angular/angular-resource.js"></script>
  
  <script src="/apps/wp/static/wapo/wapo.js"></script>
  
  {% block sub_extra_js %}
    
  {% endblock sub_extra_js %}
{% endblock extrajs %}

{% block extracss %}
  {#  <link href="/apps/wp/static/stepwizard/css/stepwizard.css" rel="stylesheet" media="screen">#}
  <link href="/apps/wp/static/stepwizard/css/stepwizard.css" rel="stylesheet" media="screen">
  <style>
    blockquote {padding: 1px;}

    .stepwizard-step {width: {{ 100 / (step_list|length) }}%;}
  </style>
{% endblock extracss %}

{% block content %}
  <div style="width: 100%;" ng-app="wapoApp" ng-controller="MainCtrl" ng-init="init()">

    <div class="row">
      <div class="col-md-2 hidden-xs"></div>
      <div class="col-xs-12">
        <div class="stepwizard">
          <div class="stepwizard-row">

            {% if "modules" in step_list %}
              <div class="stepwizard-step">
                <button type="button" class="btn {% if main_step == "modules" %}btn-primary{% else %}btn-default{% endif %} btn-circle" disabled="disabled">
                  <i class="fa fa-list"></i>
                </button>
                <p style="font-size: xx-small;" class="hidden-xs">Modules</p>
              </div>
            {% endif %}

            {% if "profiles" in step_list or "new_profile" in step_list %}
              <div class="stepwizard-step">
                <button type="button" class="btn {% if main_step == "profile" %}btn-primary{% else %}btn-default{% endif %} btn-circle" disabled="disabled">
                  <i class="fa fa-user"></i>
                </button>
                <p style="font-size: xx-small;" class="hidden-xs">Profile</p>
              </div>
            {% endif %}

            {% if "announcement" in step_list %}
              <div class="stepwizard-step">
                <button type="button" class="btn {% if main_step == "announcement" %}btn-primary{% else %}btn-default{% endif %} btn-circle" disabled="disabled">
                  <i class="fa fa-bullhorn"></i>
                </button>
                <p style="font-size: xx-small;">Announcement</p>
              </div>
            {% endif %}

            {% if "marketplace" in step_list %}
              <div class="stepwizard-step">
                <button type="button" class="btn {% if main_step == "marketplace" %}btn-primary{% else %}btn-default{% endif %} btn-circle" disabled="disabled">
                  <i class="fa fa-shopping-cart"></i>
                </button>
                <p style="font-size: xx-small;" class="hidden-xs">Marketplace</p>
              </div>
            {% endif %}

            {% if "delivery" in step_list %}
              <div class="stepwizard-step">
                <button type="button" class="btn {% if main_step == "delivery" %}btn-primary{% else %}btn-default{% endif %} btn-circle" disabled="disabled">
                  {% if delivery in ["e", "mailchimp"] %}
                    <i class="fa fa-envelope-o"></i>
                  {% elseif delivery in ["stf", "atf"] %}
                    <i class="fa fa-twitter"></i>
                  {% elseif delivery in ["aff", "fp"] %}
                    <i class="fa fa-facebook"></i>
                  {% else %}
                    <i class="fa fa-gift"></i>
                  {% endif %}
                </button>
                <p style="font-size: xx-small;" class="hidden-xs">Share</p>
              </div>
            {% endif %}

            {% if "checkout" in step_list %}
              <div class="stepwizard-step">
                <button type="button" class="btn {% if main_step == "checkout" %}btn-primary{% else %}btn-default{% endif %} btn-circle" disabled="disabled">
                  <i class="fa fa-credit-card"></i>
                </button>
                <p style="font-size: xx-small;" class="hidden-xs">Checkout</p>
              </div>
            {% endif %}

            {% if "done" in step_list %}
              <div class="stepwizard-step">
                <button type="button" class="btn {% if main_step == "confirmation" %}btn-primary{% else %}btn-default{% endif %} btn-circle" disabled="disabled">
                  <i class="fa fa-check"></i>
                </button>
                <p style="font-size: xx-small;" class="hidden-xs">Confirmation</p>
              </div>
            {% endif %}

          </div>
        </div>
      </div>
      <div class="col-md-2 hidden-xs"></div>
    </div>

    <div ng-view></div>
</div>
{% endblock content %}